# 🎯 同步对冲点击器

一个极简的 Chrome 扩展，用于在 Lighter 和 Variational 两个交易平台之间实现**毫秒级同步点击**。

## ✨ 核心特点

- **纯前端操作**：用户手动设置参数，工具只负责同步点击
- **不依赖 DOM**：通过用户选择按钮，无需维护选择器
- **< 5ms 精度**：使用时间戳同步机制确保精确同步
- **简单易用**：3 步完成设置，一键执行

## 🚀 使用步骤

### 1. 安装扩展

1. 在 Chrome 中打开 `chrome://extensions/`
2. 开启右上角的"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 `simple-sync-clicker` 文件夹

### 2. 首次设置（只需一次）

#### Lighter 平台
1. 打开 https://app.lighter.xyz
2. **手动设置好**交易参数（方向、数量等）
3. 点击页面右上角的**紫色悬浮按钮**
4. 页面进入选择模式，鼠标悬停会高亮元素
5. **点击提交按钮**（例如"确认"、"下单"等）
6. 看到"✅ Lighter 提交按钮已保存"提示

#### Variational 平台
1. 打开 https://omni.variational.io
2. **手动设置好**交易参数（方向、数量等）
3. 点击页面右上角的**粉色悬浮按钮**
4. 页面进入选择模式
5. **点击提交按钮**
6. 看到"✅ Variational 提交按钮已保存"提示

### 3. 执行同步点击

1. 确保两个平台都已设置好参数
2. 点击 Chrome 扩展图标打开弹窗
3. 查看状态：两个平台都应显示"✅ 已就绪"
4. 点击"⚡ 执行同步点击"按钮
5. **两个平台会在同一时刻点击提交按钮**

## 🔧 工作原理

### 时间戳同步机制

```
1. 用户点击"执行同步点击"
   ↓
2. Background 计算同步时间戳: syncTimestamp = Date.now() + 300
   ↓
3. 同时发送消息到两个页面，携带 syncTimestamp
   ↓
4. 每个页面计算延迟: delay = syncTimestamp - Date.now()
   ↓
5. 使用 setTimeout(delay) 等待到指定时刻
   ↓
6. 在 syncTimestamp 时刻同时点击已保存的按钮
```

### 同步精度

- **缓冲时间**: 300ms（给消息传递和计算留出时间）
- **理论精度**: < 5ms
- **实际精度**: 取决于网络延迟和系统性能

## 📁 项目结构

```
simple-sync-clicker/
├── manifest.json              # Chrome 扩展配置
├── src/
│   ├── background.js          # 后台服务（协调同步）
│   ├── content-lighter.js     # Lighter 页面注入脚本
│   └── content-variational.js # Variational 页面注入脚本
├── public/
│   ├── popup.html             # 弹窗界面
│   ├── popup.js               # 弹窗逻辑
│   ├── icon16.png             # 图标 16x16
│   ├── icon48.png             # 图标 48x48
│   └── icon128.png            # 图标 128x128
└── README.md
```

## ⚠️ 重要说明

### 优势
- ✅ **不依赖 DOM 结构**：平台更新 UI 不影响使用
- ✅ **用户完全掌控**：所有参数由用户手动设置
- ✅ **简单可靠**：只负责同步点击，逻辑简单
- ✅ **易于维护**：代码量少，几乎不需要更新

### 注意事项
- ⚠️ 每次修改交易参数后，需要**重新手动设置好**两边的参数
- ⚠️ 第一次使用需要在两个平台各**选择一次**提交按钮
- ⚠️ 如果页面刷新，需要**重新选择**按钮（或使用"重新选择按钮"功能）
- ⚠️ 建议先用**小额测试**（0.001-0.01 ETH）

### 风险提示
- 本工具仅提供技术支持，**不保证交易盈利**
- 请充分理解对冲交易的**风险和原理**
- **请勿**在未充分测试的情况下使用大额资金
- 网络延迟可能影响同步精度

## 🔄 重置按钮

如果需要重新选择提交按钮（例如页面结构变化），点击弹窗中的"🔄 重新选择按钮"即可。

这会：
1. 清除已保存的按钮
2. 刷新两个页面
3. 需要重新执行"首次设置"步骤

## 🛠️ 技术栈

- **Manifest V3**：Chrome 扩展最新标准
- **纯 JavaScript**：无依赖，简单可靠
- **Content Scripts**：页面注入脚本
- **Background Service Worker**：后台协调

## 📝 版本历史

### v1.0.0 (2025-12-30)
- ✨ 初始版本
- ✅ 支持 Lighter 和 Variational 平台
- ✅ 用户手动选择按钮
- ✅ 时间戳同步点击
- ✅ 悬浮按钮界面
- ✅ 弹窗控制面板

## 📄 License

MIT

## 🙏 致谢

感谢 Lighter 和 Variational 提供优秀的去中心化交易平台。
